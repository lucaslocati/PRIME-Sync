<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapeamento: API 2¬™ Via x Base Unificada</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: system-ui, -apple-system, sans-serif; }
    .drag-scroll {
      cursor: grab;
      overflow: auto;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }
    .drag-scroll:active {
      cursor: grabbing;
    }
    .drag-scroll::-webkit-scrollbar {
      height: 10px;
      width: 10px;
    }
    .drag-scroll::-webkit-scrollbar-track {
      background: #e5e7eb;
      border-radius: 5px;
    }
    .drag-scroll::-webkit-scrollbar-thumb {
      background: #9ca3af;
      border-radius: 5px;
    }
    .drag-scroll::-webkit-scrollbar-thumb:hover {
      background: #6b7280;
    }
    .drag-scroll thead th {
      position: sticky;
      top: 0;
      z-index: 10;
      background: #1f2937;
    }
    .col-campo-api {
      width: 170px;
      min-width: 170px;
      max-width: 170px;
      word-break: break-word;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const initialData = [
      // DADOS DO ALUNO
      { categoria: "Dados do Aluno", campo: "alunoID", descricao: "Matr√≠cula do estudante", tipo: "String", obrigatorio: "Sim", baseUnif: "COD_ALUNO", tabela: "ALUNO_CURSO", exemplo: "19304438", status: "green", obs: "" },
      { categoria: "Dados do Aluno", campo: "alunoNome", descricao: "Nome completo do aluno", tipo: "String", obrigatorio: "Sim", baseUnif: "NOME_ALUNO", tabela: "ALUNO_CURSO", exemplo: "Gabriela Pereira Afonso", status: "green", obs: "M√°x 100 caracteres" },
      { categoria: "Dados do Aluno", campo: "alunoNomeSocial", descricao: "Nome social do aluno", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "M√°x 100 caracteres" },
      { categoria: "Dados do Aluno", campo: "alunoSexo", descricao: "Sexo (M ou F)", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Valores: M ou F" },
      { categoria: "Dados do Aluno", campo: "alunoDataNascimento", descricao: "Data de nascimento", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "DT_NASCIMENTO", tabela: "ALUNO_CURSO", exemplo: "1974-09-21", status: "green", obs: "Formato: AAAA-MM-DD" },
      { categoria: "Dados do Aluno", campo: "alunoNacionalidade", descricao: "Nacionalidade", tipo: "String", obrigatorio: "Sim", baseUnif: "NACIONALIDADE", tabela: "ALUNO_CURSO", exemplo: "Brasileira", status: "green", obs: "Tabela padr√£o de refer√™ncia" },
      { categoria: "Dados do Aluno", campo: "alunoPaisNascimento", descricao: "Pa√≠s de nascimento", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Tabela padr√£o de refer√™ncia" },
      { categoria: "Dados do Aluno", campo: "alunoMunicipioNascimentoCodigoIBGE", descricao: "C√≥digo IBGE do munic√≠pio de nascimento", tipo: "String", obrigatorio: "Sim*", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrigat√≥rio para brasileiros" },
      { categoria: "Dados do Aluno", campo: "alunoMunicipioNascimentoDescricao", descricao: "Nome do munic√≠pio de nascimento", tipo: "String", obrigatorio: "Sim*", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrigat√≥rio para brasileiros" },
      { categoria: "Dados do Aluno", campo: "alunoUFNascimento", descricao: "UF de nascimento", tipo: "String", obrigatorio: "Sim*", baseUnif: "UF", tabela: "ALUNO_CURSO", exemplo: "SP", status: "yellow", obs: "Obrigat√≥rio para brasileiros. Verificar se √© UF de nascimento ou endere√ßo" },
      { categoria: "Dados do Aluno", campo: "alunoCPF", descricao: "CPF do aluno (11 d√≠gitos)", tipo: "String", obrigatorio: "Sim", baseUnif: "CPF", tabela: "ALUNO_CURSO", exemplo: "400.598.597-26", status: "green", obs: "11 d√≠gitos, evitar tipo num√©rico" },
      { categoria: "Dados do Aluno", campo: "alunoRG.tipo", descricao: "Tipo do documento (RG, RNM, CRNM)", tipo: "String", obrigatorio: "Sim", baseUnif: "TIPO_DOC_IDENT", tabela: "ALUNO_CURSO", exemplo: "Carteira", status: "green", obs: "DE-PARA para adaptar ao PRIME" },
      { categoria: "Dados do Aluno", campo: "alunoRG.numero", descricao: "N√∫mero do documento", tipo: "String", obrigatorio: "Sim", baseUnif: "NUM_RG", tabela: "ALUNO_CURSO", exemplo: "4.136.463-7", status: "green", obs: "Pode conter d√≠gitos e tra√ßos" },
      { categoria: "Dados do Aluno", campo: "alunoRG.uf", descricao: "UF do documento", tipo: "String", obrigatorio: "Sim*", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrigat√≥rio para brasileiros" },
      { categoria: "Dados do Aluno", campo: "alunoRG.orgaoExpedidor", descricao: "√ìrg√£o expedidor", tipo: "String", obrigatorio: "N√£o**", baseUnif: "ORGAO_EXP", tabela: "ALUNO_CURSO", exemplo: "Instituto de Identifica√ß√£o do Paran√°", status: "gray", obs: "N√£o obrigat√≥rio quando tipo √© RG" },

      // GENITORES
      { categoria: "Genitores", campo: "genitores[]", descricao: "Array de genitores", tipo: "Array<Object>", obrigatorio: "Sim (m√≠n. 1)", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Necess√°rio pelo menos m√£e OU pai" },
      { categoria: "Genitores", campo: "genitores[].genitorNome", descricao: "Nome do genitor", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Genitores", campo: "genitores[].genitorSexo", descricao: "Sexo do genitor (M ou F)", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Valores: M ou F" },

      // INGRESSO
      { categoria: "Ingresso", campo: "ingresso.alunoDataIngresso", descricao: "Data de ingresso no curso", tipo: "Data (ISO 8601)", obrigatorio: "Cond.***", baseUnif: "DT_INGRESSO", tabela: "ALUNO_CURSO", exemplo: "1993-01-01", status: "green", obs: "Formato: AAAA-MM-DD" },
      { categoria: "Ingresso", campo: "ingresso.alunoFormaIngresso", descricao: "Forma de ingresso", tipo: "String", obrigatorio: "Cond.***", baseUnif: "FORMA_INGRESSO", tabela: "ALUNO_CURSO", exemplo: "Vestibular", status: "green", obs: "Ex: Vestibular, ENEM, Transfer√™ncia" },

      // CONCLUS√ÉO
      { categoria: "Conclus√£o", campo: "conclusao.alunoDataConclusao", descricao: "Data de conclus√£o do curso", tipo: "Data (ISO 8601)", obrigatorio: "Sim (formados)", baseUnif: "DATA_CONCLUSAO", tabela: "ALUNO_CURSO", exemplo: "1997-02-05", status: "green", obs: "Obrigat√≥rio para formados" },
      { categoria: "Conclus√£o", campo: "conclusao.alunoPeriodoConclusao", descricao: "Per√≠odo de conclus√£o (ex: 2024/2)", tipo: "String", obrigatorio: "Sim (formados)", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "yellow", obs: "Pode derivar de DATA_CONCLUSAO" },
      { categoria: "Conclus√£o", campo: "conclusao.alunoDataColacao", descricao: "Data da cola√ß√£o de grau", tipo: "Data (ISO 8601)", obrigatorio: "Sim********", baseUnif: "DT_COLACAO_GRAU", tabela: "ALUNO_CURSO", exemplo: "1998-02-05", status: "green", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },

      // DIPLOMA
      { categoria: "Diploma", campo: "diploma.livroRegistro", descricao: "Livro de registro do diploma", tipo: "String", obrigatorio: "Sim********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },
      { categoria: "Diploma", campo: "diploma.numeroFolha", descricao: "N√∫mero da folha", tipo: "String", obrigatorio: "Sim********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },
      { categoria: "Diploma", campo: "diploma.numeroSequencia", descricao: "N√∫mero sequ√™ncia do diploma", tipo: "String", obrigatorio: "Sim********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },
      { categoria: "Diploma", campo: "diploma.numeroRegistro", descricao: "N√∫mero de registro do diploma", tipo: "String", obrigatorio: "Sim********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },
      { categoria: "Diploma", campo: "diploma.dataRegistro", descricao: "Data de registro do diploma", tipo: "Data (ISO 8601)", obrigatorio: "Sim********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },
      { categoria: "Diploma", campo: "diploma.processo", descricao: "N√∫mero do processo", tipo: "String", obrigatorio: "Sim********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },
      { categoria: "Diploma", campo: "diploma.dataExpedicao", descricao: "Data de expedi√ß√£o do diploma", tipo: "Data (ISO 8601)", obrigatorio: "Sim********", baseUnif: "DT_EXP_DIPLOMA", tabela: "ALUNO_CURSO", exemplo: "1998-02-05", status: "green", obs: "Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial" },

      // HIST√ìRICO
      { categoria: "Hist√≥rico", campo: "historico[]", descricao: "Array de disciplinas cursadas", tipo: "Array<Object>", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "HISTORICO_ESCOLAR", exemplo: "", status: "green", obs: "" },
      { categoria: "Hist√≥rico", campo: "historico[].idDisciplina", descricao: "ID da disciplina", tipo: "String", obrigatorio: "N√£o", baseUnif: "ID_DISCIPLINA", tabela: "HISTORICO_ESCOLAR", exemplo: "1994/1HF031301", status: "gray", obs: "" },
      { categoria: "Hist√≥rico", campo: "historico[].disciplina", descricao: "Nome da disciplina", tipo: "String", obrigatorio: "Sim", baseUnif: "DISCIPLINA", tabela: "HISTORICO_ESCOLAR", exemplo: "Filosofia II", status: "green", obs: "" },
      { categoria: "Hist√≥rico", campo: "historico[].nota", descricao: "Nota final", tipo: "String", obrigatorio: "N√£o", baseUnif: "MEDIA_FINAL", tabela: "HISTORICO_ESCOLAR", exemplo: "8.0", status: "gray", obs: "Ex: 8.60" },
      { categoria: "Hist√≥rico", campo: "historico[].periodo", descricao: "Per√≠odo cursado (ex: 2024/1)", tipo: "String", obrigatorio: "Sim", baseUnif: "ANO_SEM_DISC", tabela: "HISTORICO_ESCOLAR", exemplo: "1994/1", status: "green", obs: "" },
      { categoria: "Hist√≥rico", campo: "historico[].cargaHoraria", descricao: "Carga hor√°ria da disciplina", tipo: "String", obrigatorio: "Sim", baseUnif: "HORA_RELOGIO", tabela: "HISTORICO_ESCOLAR", exemplo: "", status: "green", obs: "‚ö†Ô∏è Confirmar com o Lucas se seria esse campo mesmo" },
      { categoria: "Hist√≥rico", campo: "historico[].resultado", descricao: "Resultado (Aprovado, Reprovado)", tipo: "String", obrigatorio: "Sim", baseUnif: "RESULTADO", tabela: "HISTORICO_ESCOLAR", exemplo: "Aprovado", status: "green", obs: "" },
      { categoria: "Hist√≥rico", campo: "historico[].ciclo", descricao: "Ciclo/Per√≠odo do curso", tipo: "Integer", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Conforme vig√™ncia do curso" },
      { categoria: "Hist√≥rico", campo: "historico[].percentualFrequencia", descricao: "Percentual de frequ√™ncia", tipo: "Decimal", obrigatorio: "N√£o", baseUnif: "PERC_FREQUENCIA", tabela: "HISTORICO_ESCOLAR", exemplo: "97", status: "gray", obs: "Ex: 75.50 (duas casas decimais)" },
      { categoria: "Hist√≥rico", campo: "historico[].docente.docenteNome", descricao: "Nome do professor", tipo: "String", obrigatorio: "N√£o", baseUnif: "PROFESSOR_TITULACAO", tabela: "HISTORICO_ESCOLAR", exemplo: "", status: "yellow", obs: "Campo √∫nico com texto corrido, precisa fazer parse" },
      { categoria: "Hist√≥rico", campo: "historico[].docente.docenteTitulacao", descricao: "Titula√ß√£o do professor", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Doutorado, Mestrado" },
      { categoria: "Hist√≥rico", campo: "historico[].docente.docenteCpf", descricao: "CPF do professor", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },

      // ATIVIDADE COMPLEMENTAR
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[]", descricao: "Array de atividades complementares", tipo: "Array<Object>", obrigatorio: "N√£o", baseUnif: "HORAS_ATIVIDADE", tabela: "HISTORICO_ESCOLAR", exemplo: "10", status: "yellow", obs: "S√≥ temos o total de horas" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].codigo", descricao: "C√≥digo da atividade", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].dataInicio", descricao: "Data de in√≠cio", tipo: "Data (ISO 8601)", obrigatorio: "Sim****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrigat√≥rio se informar ativ. complementar" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].dataFim", descricao: "Data de fim", tipo: "Data (ISO 8601)", obrigatorio: "Sim****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrigat√≥rio se informar ativ. complementar" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].descricao", descricao: "Descri√ß√£o da atividade", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].tipo", descricao: "Tipo da atividade", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Ex: Disciplina Isolada, Est√°gio Curricular n√£o Obrigat√≥rio" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].chHoraRelogio", descricao: "Carga hor√°ria em hora rel√≥gio", tipo: "String", obrigatorio: "Sim****", baseUnif: "HORAS_ATIVIDADE", tabela: "HISTORICO_ESCOLAR", exemplo: "", status: "yellow", obs: "‚ö†Ô∏è Confirmar com o Lucas se seria esse campo mesmo" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].docenteAprovador.docenteNome", descricao: "Nome do docente aprovador", tipo: "String", obrigatorio: "Sim****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrigat√≥rio se informar ativ. complementar" },
      { categoria: "Ativ. Complementar", campo: "atividadeComplementar[].docenteAprovador.docenteTitulacao", descricao: "Titula√ß√£o do docente aprovador", tipo: "String", obrigatorio: "Sim****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Doutorado. Obrigat√≥rio se informar ativ. complementar" },

      // EST√ÅGIO
      { categoria: "Est√°gio", campo: "estagio", descricao: "Dados do est√°gio", tipo: "Object", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Estrutura completa n√£o existe" },
      { categoria: "Est√°gio", campo: "estagio.codigoUnidadeCurricular", descricao: "C√≥digo da unidade curricular", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "C√≥digo √∫nico: letras, d√≠gitos, h√≠fen ou ponto" },
      { categoria: "Est√°gio", campo: "estagio.dataInicioEstagio", descricao: "Data de in√≠cio do est√°gio", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Est√°gio", campo: "estagio.dataFimEstagio", descricao: "Data de fim do est√°gio", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Est√°gio", campo: "estagio.cargaHorariaEstagio", descricao: "Carga hor√°ria do est√°gio", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: 80.00" },
      { categoria: "Est√°gio", campo: "estagio.docenteOrientador.docenteNome", descricao: "Nome do orientador", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Est√°gio", campo: "estagio.docenteOrientador.docenteTitulacao", descricao: "Titula√ß√£o do orientador", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Doutorado" },

      // SITUA√á√ÉO DO ALUNO
      { categoria: "Situa√ß√£o Aluno", campo: "situacaoAluno.alunoCargaHorariaIntgralizada", descricao: "Total de horas conclu√≠das", tipo: "Integer", obrigatorio: "Sim", baseUnif: "TOTAL_HORA_RELOGIO", tabela: "HISTORICO_ESCOLAR", exemplo: "", status: "yellow", obs: "‚ö†Ô∏è Confirmar com o Lucas se seria esse campo mesmo" },
      { categoria: "Situa√ß√£o Aluno", campo: "situacaoAluno.alunoSituacao", descricao: "Situa√ß√£o do aluno (Aprovado, etc.)", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Aprovado, Reprovado" },
      { categoria: "Situa√ß√£o Aluno", campo: "situacaoAluno.alunoDataEmissaoHistorico", descricao: "Data de emiss√£o do hist√≥rico", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Situa√ß√£o Aluno", campo: "situacaoAluno.alunoHoraEmissaoHistorico", descricao: "Hora de emiss√£o do hist√≥rico", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Formato: HH:MM:SS" },

      // ENADE
      { categoria: "ENADE", campo: "enade.situacao", descricao: "Situa√ß√£o no ENADE", tipo: "String", obrigatorio: "Cond.*****", baseUnif: "OBS_ENADE", tabela: "ALUNO_CURSO", exemplo: "Exame realizado em 29/06/97", status: "yellow", obs: "Ex: Habilitado, N√£o Habilitado" },
      { categoria: "ENADE", campo: "enade.condicao", descricao: "Condi√ß√£o (Ingressante/Concluinte)", tipo: "String", obrigatorio: "Cond.*****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Ingressante, Concluinte" },
      { categoria: "ENADE", campo: "enade.motivo", descricao: "Motivo (se n√£o habilitado)", tipo: "String", obrigatorio: "Cond.*****", baseUnif: "OBS_ENADE", tabela: "ALUNO_CURSO", exemplo: "", status: "yellow", obs: "Obrig. se situa√ß√£o 'N√£o Habilitado'" },
      { categoria: "ENADE", campo: "enade.edicao", descricao: "Edi√ß√£o/Ano do ENADE", tipo: "Integer", obrigatorio: "Cond.*****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ano. Ex: 2021. Obrig. se Habilitado/Irregular" },
      { categoria: "ENADE", campo: "enade.dataProva", descricao: "Data da prova ENADE", tipo: "Data (ISO 8601)", obrigatorio: "Cond.*****", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },

      // CURSO
      { categoria: "Curso", campo: "curso.cursoDescricao", descricao: "Nome completo do curso", tipo: "String", obrigatorio: "Sim", baseUnif: "NOME_CURSO", tabela: "CURSO", exemplo: "", status: "green", obs: "" },
      { categoria: "Curso", campo: "curso.cursoEMEC", descricao: "C√≥digo EMEC do curso", tipo: "String", obrigatorio: "Sim******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. desde que n√£o esteja em tramita√ß√£o" },
      { categoria: "Curso", campo: "curso.cursoHabilitacao", descricao: "Habilita√ß√£o do curso", tipo: "String", obrigatorio: "N√£o", baseUnif: "DESC_HABILITACAO", tabela: "HISTORICO_ESCOLAR", exemplo: "Descri√ß√£o...", status: "gray", obs: "" },
      { categoria: "Curso", campo: "curso.cursoModalidade", descricao: "Modalidade (Presencial, EAD)", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Curso", campo: "curso.cursoTituloConferido", descricao: "T√≠tulo conferido (Bacharel, etc.)", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Curso", campo: "curso.cursoGrauConferido", descricao: "Grau conferido (Bacharelado, etc.)", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Curso", campo: "curso.cursoCargaHorariaTotal", descricao: "Carga hor√°ria total do curso", tipo: "Integer", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Curso", campo: "curso.cursoDataHabilitacao", descricao: "Data de habilita√ß√£o do curso", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },

      // AUTORIZA√á√ÉO DO CURSO
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.tipo", descricao: "Tipo de autoriza√ß√£o", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Resolu√ß√£o" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.numero", descricao: "N√∫mero da autoriza√ß√£o", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: 330/2019" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.data", descricao: "Data da autoriza√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.dataPublicacao", descricao: "Data de publica√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.secaoPublicacao", descricao: "Se√ß√£o da publica√ß√£o", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.paginaPublicacao", descricao: "P√°gina da publica√ß√£o", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.tramitacaoNumeroProcesso", descricao: "N√∫mero do processo tramita√ß√£o", tipo: "String", obrigatorio: "Cond.******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.tramitacaoTipoProcesso", descricao: "Tipo de processo tramita√ß√£o", tipo: "String", obrigatorio: "Cond.******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.tramitacaoDataCadastro", descricao: "Data cadastro tramita√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "Cond.******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },
      { categoria: "Autoriza√ß√£o Curso", campo: "curso.autorizacao.tramitacaoDataProtocolo", descricao: "Data protocolo tramita√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "Cond.******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },

      // RECONHECIMENTO DO CURSO
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.tipo", descricao: "Tipo de reconhecimento", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.numero", descricao: "N√∫mero do reconhecimento", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.data", descricao: "Data do reconhecimento", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.dataPublicacao", descricao: "Data de publica√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.tramitacaoNumeroProcesso", descricao: "N√∫mero do processo tramita√ß√£o", tipo: "String", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.tramitacaoTipoProcesso", descricao: "Tipo de processo tramita√ß√£o", tipo: "String", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.tramitacaoDataCadastro", descricao: "Data cadastro tramita√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },
      { categoria: "Reconhecimento Curso", campo: "curso.reconhecimento.tramitacaoDataProtocolo", descricao: "Data protocolo tramita√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o" },

      // RENOVA√á√ÉO RECONHECIMENTO CURSO
      { categoria: "Renov. Reconhec. Curso", campo: "curso.renovacaoReconhecimento.tipo", descricao: "Tipo renova√ß√£o reconhecimento", tipo: "String", obrigatorio: "Cond.*********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se houver renova√ß√£o" },
      { categoria: "Renov. Reconhec. Curso", campo: "curso.renovacaoReconhecimento.numero", descricao: "N√∫mero renova√ß√£o reconhecimento", tipo: "String", obrigatorio: "Cond.*********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se houver renova√ß√£o" },
      { categoria: "Renov. Reconhec. Curso", campo: "curso.renovacaoReconhecimento.data", descricao: "Data renova√ß√£o reconhecimento", tipo: "String", obrigatorio: "Cond.*********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se houver renova√ß√£o" },
      { categoria: "Renov. Reconhec. Curso", campo: "curso.renovacaoReconhecimento.dataPublicacao", descricao: "Data publica√ß√£o", tipo: "String", obrigatorio: "Cond.*********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se houver renova√ß√£o" },
      { categoria: "Renov. Reconhec. Curso", campo: "curso.renovacaoReconhecimento.numeroDOU", descricao: "N√∫mero DOU", tipo: "String", obrigatorio: "Cond.*********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se houver renova√ß√£o" },
      { categoria: "Renov. Reconhec. Curso", campo: "curso.renovacaoReconhecimento.tramitacao...", descricao: "Campos de tramita√ß√£o", tipo: "Object", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o renova√ß√£o" },

      // ENDERE√áO DO CURSO
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.logradouro", descricao: "Logradouro", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.numero", descricao: "N√∫mero", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.complemento", descricao: "Complemento", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.bairro", descricao: "Bairro", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.municipioCodigoIBGE", descricao: "C√≥digo IBGE do munic√≠pio", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.municipioDescricao", descricao: "Nome do munic√≠pio", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.uf", descricao: "UF do curso", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Endere√ßo Curso", campo: "curso.endereco.cep", descricao: "CEP", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Formato: 00000-000" },

      // EMISSORA (IES)
      { categoria: "Emissora (IES)", campo: "emissora.nome", descricao: "Nome da institui√ß√£o", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.codigoEMEC", descricao: "C√≥digo EMEC da IES", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.cnpj", descricao: "CNPJ da IES", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "14 d√≠gitos" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.logradouro", descricao: "Logradouro da IES", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.numero", descricao: "N√∫mero", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.complemento", descricao: "Complemento", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.bairro", descricao: "Bairro da IES", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.municipioCodigoIBGE", descricao: "C√≥digo IBGE do munic√≠pio", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.municipioDescricao", descricao: "Nome do munic√≠pio", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.uf", descricao: "UF da IES", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Emissora (IES)", campo: "emissora.endereco.cep", descricao: "CEP da IES", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Formato: 00000-000" },

      // CREDENCIAMENTO IES
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.tipo", descricao: "Tipo de credenciamento", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Ex: Resolu√ß√£o" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.numero", descricao: "N√∫mero do credenciamento", tipo: "String", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.data", descricao: "Data do credenciamento", tipo: "Data (ISO 8601)", obrigatorio: "Sim", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.veiculoPublicacao", descricao: "Ve√≠culo de publica√ß√£o", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.dataPublicacao", descricao: "Data da publica√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.secaoPublicacao", descricao: "Se√ß√£o da publica√ß√£o", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.paginaPublicacao", descricao: "P√°gina da publica√ß√£o", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Credenciamento IES", campo: "emissora.credenciamento.tramitacao...", descricao: "Campos de tramita√ß√£o", tipo: "Object", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em processo de credenciamento" },

      // RECREDENCIAMENTO IES
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.tipo", descricao: "Tipo recredenciamento", tipo: "String", obrigatorio: "Cond.**********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se credenciamento vencido/em tramita√ß√£o" },
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.numero", descricao: "N√∫mero recredenciamento", tipo: "String", obrigatorio: "Cond.**********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se credenciamento vencido/em tramita√ß√£o" },
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.data", descricao: "Data recredenciamento", tipo: "Data (ISO 8601)", obrigatorio: "Cond.**********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se credenciamento vencido/em tramita√ß√£o" },
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.veiculoPublicacao", descricao: "Ve√≠culo de publica√ß√£o", tipo: "String", obrigatorio: "Cond.**********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.dataPublicacao", descricao: "Data da publica√ß√£o", tipo: "Data (ISO 8601)", obrigatorio: "Cond.**********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.numeroDOU", descricao: "N√∫mero DOU", tipo: "String", obrigatorio: "Cond.**********", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "" },
      { categoria: "Recredenciamento IES", campo: "emissora.recredenciamento.tramitacao...", descricao: "Campos de tramita√ß√£o", tipo: "Object", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Obrig. se em tramita√ß√£o recredenciamento" },

      // RENOVA√á√ÉO RECREDENCIAMENTO IES
      { categoria: "Renov. Recred. IES", campo: "emissora.renovacaoRecredenciamento...", descricao: "Renova√ß√£o do recredenciamento", tipo: "Object", obrigatorio: "Cond.", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "red", obs: "Estrutura similar ao recredenciamento" },

      // POLO (EAD)
      { categoria: "Polo (EAD)", campo: "polo.poloNome", descricao: "Nome do polo", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.poloCodigoMEC", descricao: "C√≥digo MEC do polo", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.logradouro", descricao: "Endere√ßo do polo", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.numero", descricao: "N√∫mero do endere√ßo", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.complemento", descricao: "Complemento do endere√ßo", tipo: "String", obrigatorio: "N√£o", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.bairro", descricao: "Bairro do polo", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.municipioCodigoIBGE", descricao: "C√≥digo IBGE do munic√≠pio", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.municipioDescricao", descricao: "Nome do munic√≠pio", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.uf", descricao: "UF do polo", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Obrig. se informar dados do Polo" },
      { categoria: "Polo (EAD)", campo: "polo.endereco.cep", descricao: "CEP do polo", tipo: "String", obrigatorio: "Cond.*******", baseUnif: "‚Äî", tabela: "‚Äî", exemplo: "", status: "gray", obs: "Formato: 00000-000. Obrig. se informar dados do Polo" },
    ];

    const statusColors = {
      green: { bg: "#dcfce7", text: "#166534", label: "OK" },
      yellow: { bg: "#fef9c3", text: "#854d0e", label: "Parcial" },
      red: { bg: "#fee2e2", text: "#991b1b", label: "Faltando" },
      gray: { bg: "#f3f4f6", text: "#4b5563", label: "N/A" }
    };

    function App() {
      const [data, setData] = useState(initialData);
      const [filter, setFilter] = useState("all");
      const [catFilter, setCatFilter] = useState("all");
      const tableContainerRef = useRef(null);

      useEffect(() => {
        const el = tableContainerRef.current;
        if (!el) return;

        let isDown = false;
        let startX, startY;
        let scrollLeft, scrollTop;

        const handleMouseDown = (e) => {
          isDown = true;
          el.style.cursor = 'grabbing';
          startX = e.pageX - el.offsetLeft;
          startY = e.pageY - el.offsetTop;
          scrollLeft = el.scrollLeft;
          scrollTop = el.scrollTop;
        };

        const handleMouseLeave = () => {
          isDown = false;
          el.style.cursor = 'grab';
        };

        const handleMouseUp = () => {
          isDown = false;
          el.style.cursor = 'grab';
        };

        const handleMouseMove = (e) => {
          if (!isDown) return;
          e.preventDefault();
          const x = e.pageX - el.offsetLeft;
          const y = e.pageY - el.offsetTop;
          const walkX = (x - startX) * 1.5;
          const walkY = (y - startY) * 1.5;
          el.scrollLeft = scrollLeft - walkX;
          el.scrollTop = scrollTop - walkY;
        };

        el.addEventListener('mousedown', handleMouseDown);
        el.addEventListener('mouseleave', handleMouseLeave);
        el.addEventListener('mouseup', handleMouseUp);
        el.addEventListener('mousemove', handleMouseMove);

        return () => {
          el.removeEventListener('mousedown', handleMouseDown);
          el.removeEventListener('mouseleave', handleMouseLeave);
          el.removeEventListener('mouseup', handleMouseUp);
          el.removeEventListener('mousemove', handleMouseMove);
        };
      }, []);

      const categories = [...new Set(data.map(d => d.categoria))];

      const filtered = data.filter(d => {
        const statusMatch = filter === "all" || d.status === filter;
        const catMatch = catFilter === "all" || d.categoria === catFilter;
        return statusMatch && catMatch;
      });

      const stats = {
        total: data.length,
        green: data.filter(d => d.status === "green").length,
        yellow: data.filter(d => d.status === "yellow").length,
        red: data.filter(d => d.status === "red").length,
        gray: data.filter(d => d.status === "gray").length,
      };

      const generateCSV = () => {
        let csv = "Categoria;Campo API;Descri√ß√£o;Tipo;Obrigat√≥rio?;Campo Base Unif.;Tabela Origem;Exemplo;Status;Observa√ß√£o\n";
        data.forEach(row => {
          csv += `${row.categoria};${row.campo};${row.descricao};${row.tipo || ""};${row.obrigatorio};${row.baseUnif};${row.tabela};${row.exemplo || ""};${statusColors[row.status].label};${row.obs}\n`;
        });
        return csv;
      };

      const downloadCSV = () => {
        const csv = generateCSV();
        const blob = new Blob(["\ufeff" + csv], { type: 'text/csv;charset=utf-8;' });
        const url = URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'mapeamento_api_2via_base_unificada.csv';
        link.click();
        URL.revokeObjectURL(url);
      };

      return (
        <div className="p-4 max-w-full overflow-x-auto text-base">
          <div className="flex justify-between items-center mb-3 flex-wrap gap-2">
            <h1 className="text-xl font-bold">Mapeamento: API 2¬™ Via x Base Unificada</h1>
            <button
              onClick={downloadCSV}
              className="px-4 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700"
            >
              Baixar CSV
            </button>
          </div>

          <div className="flex flex-wrap gap-2 mb-4">
            <div className="flex items-center gap-1 px-3 py-1 bg-green-100 rounded text-sm">
              <span className="w-3 h-3 bg-green-500 rounded-full"></span>
              <span>OK: {stats.green}</span>
            </div>
            <div className="flex items-center gap-1 px-3 py-1 bg-yellow-100 rounded text-sm">
              <span className="w-3 h-3 bg-yellow-500 rounded-full"></span>
              <span>Parcial: {stats.yellow}</span>
            </div>
            <div className="flex items-center gap-1 px-3 py-1 bg-red-100 rounded text-sm">
              <span className="w-3 h-3 bg-red-500 rounded-full"></span>
              <span>Faltando: {stats.red}</span>
            </div>
            <div className="flex items-center gap-1 px-3 py-1 bg-gray-100 rounded text-sm">
              <span className="w-3 h-3 bg-gray-400 rounded-full"></span>
              <span>N/A: {stats.gray}</span>
            </div>
            <span className="px-3 py-1 bg-blue-100 rounded text-sm font-medium">Total: {stats.total}</span>
          </div>

          <div className="flex gap-2 mb-4 flex-wrap">
            <select
              className="border rounded px-3 py-2 text-sm"
              value={filter}
              onChange={e => setFilter(e.target.value)}
            >
              <option value="all">Todos os Status</option>
              <option value="green">OK</option>
              <option value="yellow">Parcial</option>
              <option value="red">Faltando</option>
              <option value="gray">N√£o Obrigat√≥rio</option>
            </select>

            <select
              className="border rounded px-3 py-2 text-sm"
              value={catFilter}
              onChange={e => setCatFilter(e.target.value)}
            >
              <option value="all">Todas as Categorias</option>
              {categories.map(c => <option key={c} value={c}>{c}</option>)}
            </select>
          </div>

          <p className="text-xs text-gray-500 mb-1">üñêÔ∏è Clique e arraste para navegar</p>
          <div ref={tableContainerRef} className="drag-scroll border rounded-lg" style={{ maxHeight: "calc(100vh - 280px)" }}>
            <table className="w-full border-collapse text-sm min-w-[1400px]">
              <thead>
                <tr className="bg-gray-800 text-white">
                  <th className="p-2 text-left">Categoria</th>
                  <th className="p-2 text-left col-campo-api">Campo API</th>
                  <th className="p-2 text-left">Descri√ß√£o</th>
                  <th className="p-2 text-left">Tipo</th>
                  <th className="p-2 text-center">Obrig.?</th>
                  <th className="p-2 text-left">Campo Base Unif.</th>
                  <th className="p-2 text-left">Tabela</th>
                  <th className="p-2 text-left">Exemplo</th>
                  <th className="p-2 text-center">Status</th>
                  <th className="p-2 text-left">Observa√ß√£o</th>
                </tr>
              </thead>
              <tbody>
                {filtered.map((row, i) => (
                  <tr
                    key={i}
                    className="border-b hover:bg-gray-50"
                  >
                    <td className="p-2 font-medium">{row.categoria}</td>
                    <td className="p-2 font-mono text-sm col-campo-api">{row.campo}</td>
                    <td className="p-2">{row.descricao}</td>
                    <td className="p-2 font-mono text-xs text-purple-600">{row.tipo}</td>
                    <td className="p-2 text-center">{row.obrigatorio}</td>
                    <td className="p-2 font-mono text-sm">{row.baseUnif}</td>
                    <td className="p-2 font-mono text-sm">{row.tabela}</td>
                    <td className="p-2 font-mono text-sm text-blue-600">{row.exemplo}</td>
                    <td className="p-2 text-center">
                      <span
                        className="px-2 py-1 rounded text-sm font-medium"
                        style={{
                          backgroundColor: statusColors[row.status].bg,
                          color: statusColors[row.status].text
                        }}
                      >
                        {statusColors[row.status].label}
                      </span>
                    </td>
                    <td className="p-2 text-gray-600 italic">{row.obs}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>

          <div className="mt-4 text-sm text-gray-600 bg-gray-50 p-4 rounded">
            <p className="font-bold mb-2">Legenda de Obrigatoriedade:</p>
            <div className="grid grid-cols-2 gap-1">
              <p>* Obrigat√≥rio apenas para brasileiros</p>
              <p>** N√£o obrigat√≥rio quando tipo √© RG</p>
              <p>*** Obrigat√≥rio se desejar informar forma de ingresso</p>
              <p>**** Obrigat√≥rio se informar atividade complementar</p>
              <p>***** Obrigat√≥rio se desejar informar dados do ENADE</p>
              <p>****** Obrigat√≥rio desde que n√£o esteja em tramita√ß√£o</p>
              <p>******* Obrigat√≥rio se desejar informar dados do Polo (EAD)</p>
              <p>******** Obrig. Diploma/Hist. Formado, n√£o obrig. hist. parcial</p>
              <p>********* Obrig. se houver renova√ß√£o do reconhecimento</p>
              <p>********** Obrig. se credenciamento vencido ou em tramita√ß√£o</p>
            </div>
          </div>

          <div className="mt-6 text-sm bg-blue-50 p-4 rounded border border-blue-200">
            <p className="font-bold mb-3 text-blue-800 text-base">Campos da Base Unificada N√ÉO Utilizados na API:</p>
            <p className="text-gray-600 mb-4 italic">Estes campos existem no banco mas n√£o s√£o mapeados para nenhum campo da API. Podem ser √∫teis para outros fins.</p>

            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
              <div className="bg-white p-3 rounded shadow-sm">
                <p className="font-bold text-blue-700 mb-2 border-b pb-1">ALUNO</p>
                <p className="text-gray-500 italic text-xs">Todos os campos utilizados</p>
              </div>

              <div className="bg-white p-3 rounded shadow-sm">
                <p className="font-bold text-blue-700 mb-2 border-b pb-1">ALUNO_CURSO</p>
                <ul className="space-y-1 text-xs">
                  <li className="font-mono">ID</li>
                  <li className="font-mono">COD_ALUNO_CURSO</li>
                  <li className="font-mono">RECONHECIMENTO</li>
                  <li className="font-mono">INFO_INGRESSO</li>
                  <li className="font-mono">COL_ENS_MEDIO</li>
                  <li className="font-mono">ESTADO_ENS_MEDIO</li>
                  <li className="font-mono">CDDE_ENS_MEDIO</li>
                  <li className="font-mono">PAIS_ENS_MEDIO</li>
                  <li className="font-mono">ANO_CONC_ENS_MEDIO</li>
                  <li className="font-mono">SIT_AFASTAMENTO</li>
                  <li className="font-mono">DATA_AFASTAMENTO</li>
                  <li className="font-mono">CAMPUS</li>
                  <li className="font-mono">TIPO_HISTORICO</li>
                </ul>
              </div>

              <div className="bg-white p-3 rounded shadow-sm">
                <p className="font-bold text-blue-700 mb-2 border-b pb-1">CURSO</p>
                <ul className="space-y-1 text-xs">
                  <li className="font-mono">COD_CURSO</li>
                  <li className="font-mono">RECONHECIMENTO</li>
                </ul>
              </div>

              <div className="bg-white p-3 rounded shadow-sm">
                <p className="font-bold text-blue-700 mb-2 border-b pb-1">HISTORICO_ESCOLAR</p>
                <ul className="space-y-1 text-xs">
                  <li className="font-mono">ANO</li>
                  <li className="font-mono">HORA_AULA</li>
                  <li className="font-mono">HORAS_PRJ_COMUNITARIO</li>
                  <li className="font-mono">OPTATIVA</li>
                  <li className="font-mono">HABILITACAO</li>
                  <li className="font-mono">TOTAL_HORAS_AULA</li>
                  <li className="font-mono">COD_DISCIPLINA</li>
                </ul>
              </div>
            </div>

            <div className="mt-4 pt-3 border-t border-blue-200">
              <p className="text-xs text-gray-500">
                <span className="font-bold">Resumo:</span>
                ALUNO_CURSO: 13 campos n√£o utilizados |
                CURSO: 2 campos n√£o utilizados |
                HISTORICO_ESCOLAR: 7 campos n√£o utilizados |
                <span className="font-bold text-blue-700">Total: 22 campos dispon√≠veis</span>
              </p>
            </div>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
